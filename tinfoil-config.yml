# Tinfoil Function Configuration
# This file will be auto-populated when you deploy via the Tinfoil dashboard.
# You can also edit it manually - see docs at https://docs.tinfoil.sh/functions/config
#
# After creating this repo from the template:
# 1. Go to https://tinfoil.sh/dashboard and create a new function
# 2. Provide this repository URL and your container details
# 3. This file will be automatically updated with your deployment settings
#
# For updates: edit this file, commit, and push a new tag (e.g., v2)

shim-version: v0.3.5@sha256:f44c65a1f7db476be20c3431bb6facea8c2966606a07fbb5724a619f82bfa558
cvm-version: 0.5.16

# Resource allocation
cpus: 2
memory: 8192

# Container configuration (will be populated by dashboard)
# Note: image must include SHA256 hash (e.g., image:tag@sha256:abc123...)
containers:
  - name: "app"
    image: ""
    args:
      - "-e"
      - "LOG_LEVEL=info"
      - "-e"
      - "API_KEY=${API_KEY}"
      - "your-image:tag@sha256:..."
      - "--port"
      - "8000"

# Shim configuration (adjust upstream-port and paths to match your container)
shim:
  listen-port: 443
  upstream-port: 8000
  paths:
    - /health
