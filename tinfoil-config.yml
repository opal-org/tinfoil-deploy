shim-version: v0.3.18@sha256:7d9f98be78c91ede89f43c948a12d084fae34312effe9395ca7ed572991cb561
cvm-version: 0.6.7
cpus: 2
memory: 8192

containers:
  - name: "app"
    image: "ghcr.io/opal-org/tinfoil-smoke-function:tinfoil-smoke-v0.1.0-local@sha256:45197ead36ea486528967aa06d91c38ade4d863fa98438d1ad414de72926f47f"
    env:
      - TINFOIL_BASE_URL: "https://inference.tinfoil.sh/v1"
      - TINFOIL_LLM_MODEL: "gpt-oss-120b"
      - TINFOIL_EMBED_MODEL: "nomic-embed-text"
    secrets:
      - TINFOIL_API_KEY

shim:
  listen-port: 443
  upstream-port: 8080
  paths:
    - /healthz
    - /ingest
    - /query
    - /smoke
